import{N as r,m as i,x as d,s as e}from"./index-9RE6n9LQ.js";import{_ as c}from"./_plugin-vue_export-helper-DlAUqK2U.js";const p={data(){return{form:r({_method:"put",image:null}),prevImage:null}},mounted(){let t=this;this.prevImage=this.$page.props.user.profile_photo_path,$(function(){$("#upload").on("change",function(){var s=this.files?this.files:[];if(!(!s.length||!window.FileReader))if(/^image/.test(s[0].type)){var o=new FileReader;o.readAsDataURL(s[0]),o.onloadend=function(){t.prevImage=this.result}}else t.prevImage=null})})},methods:{handleFileChange(t){this.form.image=t.target.files[0],this.form.post(route("profile.update-photo"),{errorBag:"updateProfileInformation",preserveScroll:!0,forceFormData:!0,onSuccess:()=>{this.form.reset("image"),this.$root.showMessage("success",'<span class="text-success">Success</span><br/>',"Profile Photo Updated Successfully! ")}})}}},u={class:"card-body"},m={class:"d-flex align-items-start align-items-sm-center gap-4"},h=["src"],f={class:"button-wrapper"},g={for:"upload",class:"btn btn-main btn-sm me-2 mb-2",tabindex:"0"},_=e("span",{class:"d-none d-sm-block"},"Upload new photo",-1),b=e("i",{class:"bx bx-upload d-block d-sm-none"},null,-1),v=e("p",{class:"text-muted mb-0"},"Allowed JPG, GIF or PNG. Max size of 800K",-1);function x(t,s,o,I,a,l){return i(),d("div",u,[e("div",m,[e("img",{src:a.prevImage?a.prevImage:"/images/profile-avatar.png",alt:"user-avatar",class:"d-block rounded",height:"100",width:"100",id:"uploadedAvatar"},null,8,h),e("div",f,[e("form",null,[e("label",g,[_,b,e("input",{type:"file",id:"upload",class:"account-file-input",hidden:"",accept:"image/png, image/jpeg",onInput:s[0]||(s[0]=(...n)=>l.handleFileChange&&l.handleFileChange(...n))},null,32)])]),v])])])}const P=c(p,[["render",x]]);export{P as default};
