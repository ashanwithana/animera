import{_ as r}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{m as a,x as s,s as n,F as o,E as u}from"./index-9RE6n9LQ.js";const m={props:{id:{type:String,required:!0},prvImage:{type:String,default:""},isMultiple:{type:Boolean,default:!1},parentCls:{type:String,default:""},modelValue:{default:[]},isRequired:{type:Boolean,default:!0}},data(){return{model:this.modelValue}},mounted(){let e=this;$("#"+e.id+"ImagePreview").click(function(){$("#"+e.id).click()}),$("#"+e.id+"ImagePreview").css("background-image",""),$(function(){$("#"+e.id).on("change",function(){var i=this.files?this.files:[];if(!(!i.length||!window.FileReader))if(/^image/.test(i[0].type)){var t=new FileReader;t.readAsDataURL(i[0]),t.onloadend=function(){$("#"+e.id+"ImagePreview").css("background-image","url("+this.result+")")}}else $("#"+e.id+"ImagePreview").css("background-image","url('/images/file-upload-success.png')")})})},computed:{setImage(){return this.prvImage}},methods:{handleFileChange(e){this.$emit("update:modelValue",this.isMultiple?e.target.files:e.target.files[0])}},watch:{model(e){this.$emit("update:modelValue",e)},modelValue(e){this.model=e}}},c=["id"],g=["src"],f=["id","multiple","required"];function h(e,i,t,p,v,l){return a(),s("div",null,[n("div",{id:t.id+"ImagePreview",class:u("image-preview-box "+t.parentCls),src:"http://via.placeholder.com/350x150",alt:""},[t.prvImage?(a(),s("img",{key:0,src:t.prvImage,style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,g)):o("",!0)],10,c),n("input",{type:"file",id:t.id,class:"form-control",style:{display:"none !important"},onInput:i[0]||(i[0]=(...d)=>l.handleFileChange&&l.handleFileChange(...d)),multiple:t.isMultiple,required:t.isRequired},null,40,f)])}const w=r(m,[["render",h]]);export{w as F};
